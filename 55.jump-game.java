import java.util.Arrays;

/*
 * @lc app=leetcode id=55 lang=java
 *
 * [55] Jump Game
 */

// @lc code=start
class Solution {
    int inf = Integer.MAX_VALUE;
    int[] nums_arr;
    int[] d;
    boolean[] visited;
    boolean isSuccess = false;

    // void dfs(int pos) {
        
    //     if (pos > nums_arr.length || isSuccess) {
    //         return;
    //     }
        
    //     if (pos == nums_arr.length - 1) {
    //         isSuccess = true;
    //         return;
    //     }
    //     // System.out.println("Explore: "+nums_arr[pos]);
    //     if (visited[pos]) {
    //         return;
    //     }
    //     for (int i = 1; i <= nums_arr[pos]; i++) {
    //         int next_pos = pos + i;
    //         dfs(next_pos);
    //         if (next_pos < nums_arr.length) {
    //             visited[next_pos] = true;
    //         }
    //     }
    // }
    int dp(int pos){
        if(isSuccess){
            return inf;
        }
        // System.out.println("dp: "+pos);
        if(pos >= d.length - 1) {
            isSuccess = true;
            return inf;
        }
        // if(pos == d.length - 1) {
        //     return nums_arr[d.length - 1] + 1;
        // }
        if(nums_arr[pos] > nums_arr.length) {
            isSuccess = true;
            return inf;
        }
        if(d[pos] != -1){
            return d[pos];
        }
        int ans = 0;
        for (int i = 1; i <= nums_arr[pos]; i++) {
            int result = dp(pos+i);
            if(result != inf){
                ans = Math.max(i + result, ans);
            }else{
                return inf;
            }
        }
        d[pos] = ans;
        return ans;
    }

    public boolean canJump(int[] nums) {
        if(nums.length == 1 && nums[0] == 0){
            return true;
        }
        nums_arr = nums;
        d = new int[nums.length];
        Arrays.fill(d, -1);
        dp(0);
        // System.out.println(Arrays.toString(d));
        return isSuccess;
    }

    public static void main(String[] args) {
        var nums = new int[] {19000,17876,11995,15844,3968,3724,364,5333,11104,4061,13716,10534,5247,11459,18962,1439,10009,157,2988,5164,8966,5403,2796,8394,10189,19088,5225,7912,8313,19515,9828,5076,13424,4611,9320,11059,6801,9688,10512,3151,1570,19322,9687,1606,16596,8663,925,3994,13633,14197,1669,3220,11238,16722,15194,7381,15699,17051,12209,7318,1415,18753,15111,16430,8555,3156,14814,2921,354,17585,19847,16155,9371,6704,6152,11866,7563,11093,5400,14791,15115,2640,4877,6773,1639,4403,4128,4781,14057,18060,9403,14105,8162,5610,9897,7668,6170,5809,18948,11645,18557,17104,9961,14715,12126,13250,13080,10655,11934,12904,9325,13529,5674,17825,4953,4432,15814,1329,16646,12288,10933,13622,19831,17673,938,12941,5263,10724,8563,11246,8008,18199,6322,2999,2775,13063,17046,16114,19446,5308,3953,10214,503,5780,18854,11433,4770,14171,3808,9054,11041,8583,10250,5392,4588,11489,13104,15600,6309,4322,10309,10252,2526,18658,14891,16228,11988,13216,4962,19293,3409,4952,2751,17286,2902,199,5295,10498,2736,1155,14400,11663,18820,3783,3815,6823,16286,12136,19319,1586,19324,11201,5967,7570,17629,7100,11855,810,11708,2710,19391,1335,16675,1613,9133,6237,18036,8655,15237,3621,7915,11526,1885,2409,15948,7784,8744,2816,726,17784,2227,6691,2729,13202,7150,18307,13947,18330,4299,15461,19094,8254,6582,18095,12591,7421,14641,3116,17756,16182,11883,14327,11300,7159,13160,18985,5671,1127,7977,2817,19304,17954,19655,19977,13114,1066,6048,8886,17160,15040,12338,14945,2641,19546,9466,10863,16176,17175,15312,19904,5185,14741,7082,19709,2100,14669,12920,11027,10892,19867,17740,10136,4277,16379,12883,16125,7244,7740,5473,10403,3780,18095,18574,11511,11457,9906,11724,11920,4351,2997,5470,7925,9679,5439,14472,8284,11978,12878,7731,14929,6806,19095,9421,17110,2372,19259,9082,14584,12138,10873,3691,17086,1955,13948,10440,13861,16082,76,232,4706,5083,874,19180,488,6487,1356,1627,13842,19892,306,17444,10882,7454,3639,18428,8095,8794,10489,8275,12713,18064,4252,9739,665,5473,18041,7699,8298,8346,13115,18106,437,16628,17980,11553,19711,13185,7763,17096,13353,17029,19325,5243,9808,5068,201,7454,647,13656,2300,12693,14533,105,1521,11446,8777,16520,14083,9955,10976,15009,15596,5342,19413,15171,5948,14644,2412,849,1924,5891,8855,19900,9858,7625,6782,10860,14017,10849,14239,19091,17606,18252,10667,6420,3144,10001,3625,12845,5681,11664,16714,19303,5413,16624,16433,9364,15472,15126,18059,15845,15730,18233,12747,143,14712,15566,18577,14301,15602,9480,6232,18065,17114,6406,2224,11733,6444,6300,18933,15604,4975,19558,5432,2486,2027,18337,19452,3921,4150,6753,15852,9110,18784,19935,1408,17169,13375,6441,13318,12132,6196,14750,15004,6218,16422,13161,16624,15198,12627,2211,8811,16968,12719,14668,4598,9751,53,8888,19731,12509,9337,12262,9872,12743,3535,544,5327,9165,15410,14133,4599,6037,6375,18578,110,3527,3806,17607,8666,9637,18467,3371,74,11350,17778,11043,19085,14053,9307,887,2996,6710,14812,14212,18315,17469,4265,2576,8449,4564,3432,2102,5414,813,15213,9234,7886,16289,5963,15704,9256,2250,8484,18807,13503,18699,2594,9244,13424,14030,6511,2340,9580,16404,13225,17204,11826,1550,4758,10764,19723,10214,9403,17722,2018,9333,7356,9407,16471,11660,5433,16136,681,6287,1386,2407,6370,15322,16134,9160,13807,7107,16567,19248,9430,17884,14020,2887,2539,13451,3806,18459,2944,889,2838,10789,18992,3573,1242,3772,18368,9524,1748,5484,16070,1030,13989,18455,1583,14247,9232,7524,4998,14566,246,12678,6895,2518,19944,1602,3892,18622,3847,14587,19593,12586,6681,9615,1864,9266,8683,4678,18215,19089,7009,17223,12408,6920,6481,14197,15955,4069,17728,19204,3509,15837,14839,888,17745,15739,4653,4719,11256,17789,17996,1805,10459,2480,15701,723,2776,14911,4,6117,4856,12298,12715,9558,985,1077,14283,930,12777,18928,9115,848,5322,12316,6559,370,12830,12518,9692,14731,2100,15473,12861,19978,3522,10726,19652,16792,14186,3150,2166,5184,16143,12080,19873,9799,18190,8788,67,6178,4664,437,19283,19287,7270,9004,15000,16851,7111,1304,17601,4546,19441,12288,7296,7871,2475,836,15021,5479,14629,18524,6168,11124,10355,7038,11641,10101,12280,17934,13228,6714,15750,671,6238,8336,8308,19558,12573,17579,2401,1267,3621,3269,18274,10285,8825,10610,6294,15429,2558,19464,2288,8514,9628,17740,5894,10199,17994,12760,2653,5096,764,3807,2908,6280,9520,10498,1071,11457,10635,19860,8695,11670,4773,5091,4967,6818,6479,12963,3277,2569,15707,5624,4123,2547,2465,13332,17178,15029,15248,2160,3682,3314,4993,10291,13191,2289,9298,8086,12974,8885,10977,7929,14516,3242,16170,10689,2630,12876,12831,17250,9498,17644,18255,17198,12865,10505,5583,16295,8857,3476,6095,13428,14455,10183,10962,19240,1485,15644,5128,12097,229,6851,348,15146,11191,18181,11054,7096,11957,15507,11072,1490,8127,9169,18065,16544,9565,13009,6660,372,4743,15061,10447,676,2002,8528,8551,3850,3643,16010,16415,13943,17312,13977,3262,14400,8802,2494,14725,4870,3465,12723,11541,12476,18044,5458,1037,18625,14455,6582,13695,11925,13722,11468,1123,5459,703,8577,16706,5290,4191,5208,6942,18518,19292,10505,5702,9601,927,11601,4194,1601,13211,2321,7935,4051,10911,8766,15127,6782,12813,19297,6415,1407,1885,17477,12831,4830,10731,424,6832,12434,15940,18929,7113,16521,12342,978,6347,8545,10351,1259,13411,16761,16758,649,5188,14953,14958,4080,1568,9691,15460,670,10629,14880,13559,6018,2166,12173,1591,11171,18970,16759,1881,4495,15726,18867,14252,1963,6023,8975,19473,18672,13264,9493,12079,13471,5310,12821,12655,1576,18382,5691,17734,5647,16215,8982,15393,4816,1542,14137,17123,4790,18894,18860,15533,8037,358,16388,8951,11100,17576,7761,14779,12128,10001,937,17567,17639,8378,4129,17116,2560,3657,12629,13668,2346,10679,12229,15943,18251,17060,9677,1732,19203,14543,12618,4721,6684,10897,14,10595,2025,7740,16836,17546,15338,10357,1606,12329,9415,4451,12380,9281,8422,19718,16773,5651,19354,7797,6804,19189,3512,3918,87,19734,10848,15124,981,19848,3465,18928,7071,15950,4036,4260,11851,6477,7705,15848,17589,13432,1152,12139,7208,4463,9176,5173,1446,17584,314,1234,14833,7671,12754,980,19862,3575,18684,18009,8111,2899,13702,12305,16843,7260,1262,10016,1617,2129,18286,8895,12481,12338,6308,9172,7115,10373,5263,1301,11102,10299,16799,2589,19688,18158,14907,18744,1092,3059,16118,14171,10008,13324,9097,6837,18250,11125,11834,13420,75,17836,4896,296,1139,11009,7076,3117,4119,4109,17488,6845,10804,2110,10397,4135,3832,14192,10752,15743,9777,11397,8277,12198,10953,2167,4814,17485,534,16920,2300,11390,10576,14122,15825,17497,15027,12976,3772,3639,1809,19243,14738,14330,15223,18048,15721,18269,11740,9132,4005,18528,9218,19299,12201,903,19479,17425,11979,4261,18544,5900,4966,9031,2772,14086,19416,4704,18946,11315,5432,80,13686,17954,9266,8403,18709,2190,18198,1425,18387,14452,6472,6842,8669,16958,16017,17523,8965,7735,17920,824,7695,11993,3038,19786,12984,9016,5404,17249,6738,10148,1683,11513,14315,18159,2828,103,1222,14233,5236,740,12859,17765,12245,11162,11208,1675,12949,2576,6213,1331,19199,3577,397,7583,18754,15592,11512,8176,6850,12081,15935,2174,8347,1013,18792,10001,17442,10775,9078,583,16552,5794,3585,7639,17605,3401,15606,2906,12927,4470,14864,9675,4142,15109,3184,18732,3242,7986,10280,12683,986,9073,6317,18543,13789,1419,17222,12074,15269,1554,6976,5162,16730,299,9978,1872,15346,17497,16899,19654,2584,16403,4673,14031,9383,19529,3634,8648,18975,10370,4331,15571,16949,19273,13613,5078,16288,10999,18628,6935,1010,18929,9768,18090,8044,3787,4132,17622,15318,18641,10839,2782,4967,1247,10645,6449,19787,6428,3257,16218,17775,19734,7014,16991,5912,15964,4120,8192,3549,10496,15582,3995,10574,16934,6127,15064,7555,4474,19458,15925,4731,142,17909,4286,8234,14938,12954,18611,4915,339,17669,6804,9661,2736,3853,246,4318,503,15590,4521,11982,5592,8729,19135,16219,945,7826,2837,19025,3392,12266,19702,16184,8649,15330,2741,8996,6378,7330,758,17837,16930,12761,9829,18072,15145,8590,10993,15800,1356,11600,17344,14206,19932,9724,7799,15159,4863,7547,2485,11110,16423,4834,2560,15839,8787,2472,3409,9989,13759,14992,2059,10980,9988,15616,19510,6942,6694,2010,12545,488,16191,10735,19393,13307,5541,17767,2375,10498,1223,4413,2704,13727,4437,10649,17950,19466,15789,4451,14481,5510,7256,6675,13329,8363,17470,5812,14055,3913,16587,8954,123,15706,17390,6103,15884,2752,5446,6924,12043,10645,49,3238,2762,19083,6942,7608,8497,5827,19082,1637,8812,13308,6520,8861,6975,15862,18659,10889,14729,4986,7150,404,7765,6199,17070,8630,402,5414,15962,13254,14560,891,2380,11675,7129,3402,5395,6336,5001,6188,16774,13712,3483,738,11974,15864,8432,14282,16524,5671,9508,17806,13844,10043,2181,3083,4544,9176,281,7251,18232,1899,13643,15071,16971,3340,6953,3151,1774,13402,264,5685,2017,14940,17380,2866,17962,3628,9857,6499,9240,14768,16380,8652,8778,10609,8612,8170,5164,8678,14280,14637,5447,19958,17947,11778,16853,13452,3118,2262,9920,4160,19437,16205,14599,15248,4115,3120,9564,3012,3548,18616,18766,17330,5262,6777,6299,19343,19711,8869,8402,17795,17185,7050,2325,16673,4253,8584,17908,13807,16740,13087,16396,4516,12142,4174,4419,9342,11978,16031,12284,10833,4000,14118,4099,1080,1496,9249,6278,6059,1218,8085,13723,8850,12800,19881,12613,9128,17578,3832,6331,1609,1259,17433,17000,15049,16500,16989,5162,1665,5706,3751,15755,14771,12126,17019,6833,12896,14686,8022,8340,8620,16726,2475,6682,18166,10487,17111,8595,9767,9970,4944,14912,2383,14649,17167,4371,2926,324,19156,16064,12245,3397,3091,12533,6783,15502,10234,1421,17338,15534,5935,19741,14482,14254,2600,10407,4454,8000,12722,6789,16465,10212,12999,8956,2619,19250,766,362,12760,152,12554,2372,14659,8094,4867,14202,3045,12724,5594,9873,14001,11012,12377,17247,14120,14524,5552,17930,1881,9999,18064,7366,19155,18157,12685,298,8168,10157,13709,7577,614,5271,6613,9464,3902,19571,6670,12821,17355,6824,4869,6288,16373,7753,7691,9975,12519,8599,17224,15640,19776,9769,14941,9855,11856,17976,6542,3953,7854,17444,9366,19821,11093,7008,4352,18434,7409,1580,6970,19321,13750,8501,8634,19852,17348,19158,10698,5627,14308,9409,9666,4832,15390,17179,7159,11766,10505,2840,16643,14363,11709,216,10785,12405,19070,16064,7409,1071,3755,4699,18686,234,19711,2386,5970,6779,11260,18218,14455,4964,12423,2718,18518,16985,2701,13665,11218,688,14427,15460,6051,18573,13208,2457,15924,111,830,3691,10159,17664,2874,7721,6695,16934,2806,6004,2354,18776,8490,8131,4200,5717,15673,13394,10782,1676,6229,7581,14942,8134,8052,16585,16959,3289,14335,18267,1743,11800,5036,13435,14354,18146,13999,4234,18119,14928,18868,6616,2516,16013,6385,2262,18505,9345,7794,2091,4052,12464,18376,10654,10365,1368,6648,18473,1356,16240,18456,11831,10598,8062,14264,8076,16641,15841,16303,16317,18004,15007,329,3151,1088,3789,16118,7457,12640,19833,7538,18205,14393,4311,13878,12845,3299,694,12369,14692,3987,7714,9134,9445,8408,19540,10204,5653,16449,4953,13287,18363,5059,15150,16276,16645,1855,8468,10721,10896,15838,8304,4979,9231,8408,9999,4719,9236,17233,6635,12853,14702,10405,10302,8177,5349,18792,15096,993,15109,13586,11915,19182,11784,11344,18968,12926,13029,16618,250,728,14767,6124,19212,10141,11119,11545,4315,9561,10565,8125,12966,6251,3302,3782,8752,7215,9166,3588,16737,3374,13584,5580,10633,17143,1916,3494,18283,6592,16833,2837,4082,7741,6213,11435,10107,2101,16211,17372,5376,18567,3567,7901,7120,8579,7298,19148,1563,5387,760,7064,4885,5737,1893,16557,1272,9373,18755,3498,1900,10015,11463,6332,19262,13832,11524,9555,18449,2636,3178,3934,15425,13418,9482,14753,16998,19658,3914,1515,5105,7209,5516,18794,19334,4137,16011,8960,7185,19927,15193,3360,15039,13324,8476,946,12923,1933,17803,6364,5541,176,6041,13665,17574,1205,1719,5509,14210,10701,9440,19969,11809,13770,11958,9285,4168,15988,18988,16080,6105,3012,17461,12364,18685,6743,1280,3065,15384,13941,16053,7159,4067,19678,13620,6670,16919,15066,127,19834,9267,19208,1674,11745,15909,13546,17892,8872,10586,15856,13599,17994,11479,318,1702,12425,19757,14004,6319,16968,10234,8772,17510,15398,11535,12872,16556,3595,12644,14092,16176,9450,19981,160,16400,19434,8186,12523,11148,13255,9370,18712,14766,2052,2706,10299,11141,5598,11601,5175,12876,8061,11146,12379,19443,9393,15052,6009,855,17682,2743,17367,14141,1591,12476,2581,8844,7328,19991,16091,4780,17748,2757,11872,4072,7760,7937,1355,12650,18602,13028,13282,18170,17934,3111,1921,3535,3651,17450,4645,6976,5347,4330,2660,18888,6683,11416,13908,9829,2643,8102,4956,9594,12736,694,1706,6017,9038,13106,7132,7956,12212,11127,4735,5026,3206,12343,353,18781,1363,6459,14210,1527,17568,15652,13231,16647,777,9878,7481,4893,10608,5445,13057,10342,1432,10715,12540,5192,11287,13701,6920,9126,10212,7423,12267,2697,16390,15430,12541,2000,1590,3487,17483,7771,9089,1683,11082,6887,1224,944,19875,18341,4252,12458,5688,13298,12359,2007,8095,9828,18703,14783,15486,16323,13572,7762,17330,17888,13537,14112,6891,8728,6455,18808,10965,303,1079,18437,19933,9360,6623,5767,12650,14502,11604,12300,10059,9975,1660,3518,5770,19383,5588,2260,16799,14017,3894,6493,18039,3571,2183,17935,2832,5688,19339,16478,3822,4717,15408,12476,11513,5046,12048,13950,9990,17697,11024,10225,2222,15617,8130,11386,13125,5395,11568,1673,12053,8132,15238,4544,1184,14624,14701,14394,16987,1899,16067,3322,2797,9633,11746,17091,19822,17520,15413,12197,2943,2254,16042,3309,11041,1955,10148,9557,8507,847,6922,10442,9979,1178,6038,11782,1067,4683,11811,10048,16534,17271,7840,626,4826,9623,19709,12019,17500,11646,13989,1654,15967,18942,2125,13807,1321,10847,17490,15608,4694,381,4365,14233,17586,19611,6163,15512,5009,1714,19101,17040,18745,1305,4925,2199,12262,545,13509,10462,4259,7673,10298,19328,5028,4363,1637,291,2719,1713,17693,19257,3954,16557,18704,7507,14510,15563,8079,8716,5372,17773,17454,7803,2504,14833,18981,15184,18148,12993,2395,17494,465,11957,15938,6346,7341,16404,8041,6963,4952,16396,5400,19947,14370,16798,19477,6392,17076,4755,14012,12575,8941,12653,8106,14171,6563,6731,8529,6374,13941,13654,9983,7363,5089,405,13849,6159,2814,9730,8733,12816,9177,9968,12743,7473,15831,1438,3966,6728,18449,794,8042,512,13636,11320,2806,263,13998,13014,10535,716,19774,6113,11741,7980,3083,11178,17670,2363,2650,5625,10658,4248,3553,5187,10411,13648,15379,5963,2224,16567,3832,3229,1080,5352,8607,10343,2001,10080,12076,5617,194,5444,18365,493,13368,4977,13986,14750,8076,5864,13988,5809,16933,528,7191,3095,19729,8864,5782,17713,11651,16748,16499,9821,14698,16347,18717,5889,5431,18237,3848,12261,9909,13384,4915,17264,19042,4891,17970,19034,16386,3476,18061,10973,15001,17749,2454,7753,17265,12109,4008,18845,3780,18128,7616,16226,11428,13900,18777,19,4222,2779,16860,13411,14936,8975,6585,5238,10998,12955,3938,18577,14196,55,4117,6905,13102,10236,17268,11383,7188,19430,12111,741,17399,7188,1588,12667,577,11037,18401,16289,18520,2222,5920,6530,8256,3251,791,19094,735,10403,5149,9478,1582,15988,19006,19543,7902,14118,17949,15414,14263,4757,19892,89,14033,13710,1284,3949,3470,13983,4863,453,9181,18919,4243,8792,16616,11918,3625,19985,6714,11154,19586,12685,3124,8541,19505,12431,19859,19930,7126,12342,6219,8669,2817,7771,9587,15428,12071,7285,17002,11289,10801,16321,18588,5954,8298,5220,15203,18000,6027,16180,13742,12712,13455,9011,4848,8201,15044,15447,12954,10326,1138,10415,17794,12516,14398,11706,8312,639,9288,7082,17317,18984,12289,8438,3043,1289,7541,15341,10798,11720,8854,3968,9531,1984,13931,13759,11004,7782,2989,2452,9287,2826,306,7702,11256,9780,12242,506,13395,3077,14193,14317,18493,6390,19751,2316,14754,8649,17858,2263,6519,11690,7477,4746,1041,6465,11388,13829,5158,12475,386,7683,842,14224,14096,236,16368,9668,6759,19135,12477,8385,3162,16485,7999,4496,3307,11664,4552,14855,13982,4535,15554,11305,19272,16201,5182,18518,10930,10494,18099,4663,1330,2418,18810,10918,1010,4108,8144,8255,13800,6411,1987,4921,4845,2475,5296,6745,9552,1699,14785,15092,9872,12376,19288,6318,15376,18178,14173,3950,1503,8335,13967,13781,9489,4551,10998,5324,10044,11561,19340,9663,11918,16032,5948,8290,10103,9657,2683,9718,18299,5243,14522,2363,15462,4143,17085,8630,4337,15094,19624,3707,3129,15695,12337,18622,18814,11965,12583,5788,10676,3536,11810,16643,19684,2000,10269,4661,12849,18257,19826,5145,15401,2602,12216,486,1511,16318,17428,16740,15606,15396,10902,6611,8137,10956,12930,16602,3490,8578,648,3169,8855,3905,3987,2470,15713,14008,14081,8516,8285,19883,11085,211,18773,19271,5755,10816,7160,1417,9509,4537,14229,18320,5047,8671,7196,19592,8356,5846,2451,11383,19675,4454,12643,980,13898,7202,18919,15641,347,8620,8822,9681,14152,8226,3325,12089,17420,16139,16763,15425,2529,2537,14593,1303,599,18210,6443,2796,5284,19441,9853,12294,10931,16334,14516,12280,14868,12016,3326,10938,18359,1865,17019,17952,13677,15015,13960,3747,19395,1713,14907,18694,3838,14740,10271,15256,2821,1729,2977,7730,18577,17262,5545,3864,3292,12486,4012,14451,133,17216,14819,5273,3574,8516,7492,8501,4967,11411,967,7458,506,12580,13201,6419,16057,15278,11925,13027,725,123,13019,1099,6036,19285,12322,7465,10544,16403,17171,6042,17092,8899,4838,535,5421,2254,6481,107,15687,3163,4221,15565,17889,8561,8032,9581,4267,9731,16028,5956,14055,17393,2880,7372,2659,15916,762,13034,7929,2748,3258,9554,14632,9396,10330,9276,2137,8013,7279,15719,13465,19222,1716,8141,1606,19103,881,3536,14473,16421,5310,17524,15490,2034,35,9227,17383,10198,18019,19275,16418,6710,4421,11877,19159,6627,13708,8643,4537,4079,19879,17723,6504,19603,19029,10759,5753,9818,17444,13217,2376,12216,3188,12425,480,7386,16252,1896,4318,2103,6782,10788,4992,17492,19130,7444,7719,8110,12463,17106,15927,16843,1015,7731};
        var result = new Solution().canJump(nums);
        System.out.println(result);
    }
}
// @lc code=end
